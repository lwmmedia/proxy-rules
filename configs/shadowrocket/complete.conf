# Shadowrocket Complete Configuration
# Proxy Rules Collection by lwmmedia
# Last Updated: November 10, 2025
# Repository: https://github.com/lwmmedia/proxy-rules

[General]
# Bypass system proxy
bypass-system = true

# Skip proxy for local networks
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, captive.apple.com

# DNS servers
dns-server = 223.5.5.5, 114.114.114.114, 8.8.8.8, 1.1.1.1

# Fallback DNS
fallback-dns-server = 8.8.8.8, 1.1.1.1

# IPv6 support
ipv6 = false

# Test URLs
internet-test-url = http://www.gstatic.com/generate_204
proxy-test-url = http://www.google.com/generate_204

# Update configuration URL
update-url = https://raw.githubusercontent.com/lwmmedia/proxy-rules/main/configs/shadowrocket/complete.conf interval=86400 strict=false

# Always Real IP
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com

[Proxy]
# Add your proxy servers here
# Example Shadowsocks:
# US-West = ss, server.example.com, 443, encrypt-method=aes-256-gcm, password=yourpassword
#
# Example Trojan:
# US-East = trojan, server2.example.com, 443, password=yourpassword, sni=server2.example.com
#
# Example VMess:
# US-Central = vmess, server3.example.com, 443, username=uuid-here, tls=true, ws=true, ws-path=/path

[Proxy Group]
# Proxy Selection Groups
PROXY = select, Auto, DIRECT, interval=86400, timeout=5, select=0

# Auto-select fastest proxy
Auto = url-test, interval=300, tolerance=100, timeout=5, select=0, url=http://www.google.com/generate_204

# Streaming Services
YouTube = select, PROXY, Auto, DIRECT, interval=86400, timeout=5, select=0
Netflix = select, PROXY, Auto, DIRECT, interval=86400, timeout=5, select=0

# Social Media
Telegram = select, PROXY, Auto, DIRECT, interval=86400, timeout=5, select=0
Discord = select, PROXY, Auto, DIRECT, interval=86400, timeout=5, select=0
Twitter = select, PROXY, Auto, DIRECT, interval=86400, timeout=5, select=0

# Global Tech Services
Google = select, PROXY, Auto, DIRECT, interval=86400, timeout=5, select=0
Apple = select, PROXY, Auto, DIRECT, interval=86400, timeout=5, select=0
Microsoft = select, PROXY, Auto, DIRECT, interval=86400, timeout=5, select=0

[Rule]
# Anti-AD (optional - uncomment to enable ad blocking)
# DOMAIN-SUFFIX,googlesyndication.com,REJECT
# DOMAIN-SUFFIX,googleadservices.com,REJECT
# DOMAIN-KEYWORD,adservice,REJECT

# Streaming Services - High Priority
RULE-SET, https://raw.githubusercontent.com/lwmmedia/proxy-rules/main/rules/streaming/youtube.list, YouTube
RULE-SET, https://raw.githubusercontent.com/lwmmedia/proxy-rules/main/rules/streaming/netflix.list, Netflix

# Social Media Platforms
RULE-SET, https://raw.githubusercontent.com/lwmmedia/proxy-rules/main/rules/social/telegram.list, Telegram
RULE-SET, https://raw.githubusercontent.com/lwmmedia/proxy-rules/main/rules/social/discord.list, Discord
RULE-SET, https://raw.githubusercontent.com/lwmmedia/proxy-rules/main/rules/social/twitter.list, Twitter

# Global Tech Ecosystem
RULE-SET, https://raw.githubusercontent.com/lwmmedia/proxy-rules/main/rules/global/google.list, Google
RULE-SET, https://raw.githubusercontent.com/lwmmedia/proxy-rules/main/rules/global/apple.list, Apple
RULE-SET, https://raw.githubusercontent.com/lwmmedia/proxy-rules/main/rules/global/microsoft.list, Microsoft

# Local Area Network
IP-CIDR, 192.168.0.0/16, DIRECT
IP-CIDR, 10.0.0.0/8, DIRECT
IP-CIDR, 172.16.0.0/12, DIRECT
IP-CIDR, 127.0.0.0/8, DIRECT

# China IP addresses direct connection
GEOIP, CN, DIRECT

# Final catch-all rule
FINAL, PROXY

[Host]
# Custom DNS mappings (optional)
# localhost = 127.0.0.1

[URL Rewrite]
# URL rewriting rules (optional)
# ^https?://(www.)?example\.com https://example.com 302

[MITM]
# HTTPS decryption (use with caution)
# Only enable if you need to inspect HTTPS traffic
# hostname = *.example.com
# ca-passphrase =
# ca-p12 =
