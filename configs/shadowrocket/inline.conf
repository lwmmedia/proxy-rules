[General]
bypass-system = true
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local
dns-server = 223.5.5.5,114.114.114.114
ipv6 = false

[Rule]
# Block QUIC
PROTOCOL,UDP,REJECT

# Security
DOMAIN-KEYWORD,malware,REJECT
DOMAIN-KEYWORD,virus,REJECT
DOMAIN-KEYWORD,phishing,REJECT
DOMAIN-KEYWORD,analytics,REJECT
DOMAIN-KEYWORD,doubleclick,REJECT

# YouTube
DOMAIN-SUFFIX,youtube.com,PROXY
DOMAIN-SUFFIX,youtu.be,PROXY
DOMAIN-SUFFIX,googlevideo.com,PROXY
DOMAIN-SUFFIX,ytimg.com,PROXY
DOMAIN-KEYWORD,youtube,PROXY

# Netflix
DOMAIN-SUFFIX,netflix.com,PROXY
DOMAIN-SUFFIX,nflxext.com,PROXY
DOMAIN-SUFFIX,nflximg.net,PROXY
DOMAIN-KEYWORD,netflix,PROXY

# Telegram
DOMAIN-SUFFIX,telegram.org,PROXY
DOMAIN-SUFFIX,telegram.me,PROXY
DOMAIN-SUFFIX,t.me,PROXY
IP-CIDR,91.108.4.0/22,PROXY,no-resolve
IP-CIDR,149.154.160.0/20,PROXY,no-resolve

# Discord
DOMAIN-SUFFIX,discord.com,PROXY
DOMAIN-SUFFIX,discordapp.com,PROXY
DOMAIN-SUFFIX,discord.gg,PROXY

# Twitter
DOMAIN-SUFFIX,twitter.com,PROXY
DOMAIN-SUFFIX,x.com,PROXY
DOMAIN-SUFFIX,twimg.com,PROXY
DOMAIN-SUFFIX,t.co,PROXY

# Google
DOMAIN-KEYWORD,google,PROXY
DOMAIN-SUFFIX,googleapis.com,PROXY
DOMAIN-SUFFIX,gstatic.com,PROXY
DOMAIN-SUFFIX,gmail.com,PROXY

# Apple optimization
DOMAIN-SUFFIX,push.apple.com,DIRECT
DOMAIN-SUFFIX,icloud.com,DIRECT
DOMAIN-SUFFIX,apple.com,DIRECT
DOMAIN-SUFFIX,mzstatic.com,DIRECT

# Local
DOMAIN-SUFFIX,local,DIRECT
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT

# Final - Default to direct for France
FINAL,DIRECT
